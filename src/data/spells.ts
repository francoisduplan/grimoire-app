import { Spell } from "@/types";

export const SPELLS_DATA: Spell[] = [
  // --- NIVEAU 0 (TOURS DE MAGIE) ---
  {
    id: "fire-bolt",
    name: "Trait de feu",
    level: 0,
    school: "Évocation",
    castingTime: "1 action",
    range: "36m",
    components: ["V", "S"],
    duration: "Instantanée",
    concentration: false,
    ritual: false,
    description: "Vous lancez un rayon de feu sur une créature ou un objet à portée. Lancez une attaque magique à distance contre la cible. En cas de succès, la cible subit 1D10 dégâts de Feu. Un objet inflammable touché par ce sort prend feu s'il n'est pas porté.",
    damage: { dice: "1D10", type: "Feu" },
    attackRoll: { count: 1 },
    higherLevels: "Les dégâts augmentent de 1D10 aux niveaux 5 (2D10), 11 (3D10) et 17 (4D10).",
    classes: ["Magicien", "Ensorceleur"]
  },
  {
    id: "mage-hand",
    name: "Main du mage",
    level: 0,
    school: "Conjuration",
    castingTime: "1 action",
    range: "9m",
    components: ["V", "S"],
    duration: "1 minute",
    concentration: false,
    ritual: false,
    description: "Une main spectrale flottante apparaît à un endroit choisi à portée. Elle reste active pendant toute la durée du sort. Elle disparaît si elle s'éloigne de plus de 9 mètres de vous ou si vous relancez ce sort. Vous pouvez utiliser la main pour manipuler un objet, ouvrir une porte ou un conteneur déverrouillé, ranger ou récupérer un objet dans un conteneur ouvert ou verser le contenu d'une fiole. La main ne peut pas attaquer, activer des objets magiques ou porter plus de 10 livres.",
    classes: ["Barde", "Ensorceleur", "Occultiste", "Magicien"]
  },
  {
    id: "minor-illusion",
    name: "Illusion mineure",
    level: 0,
    school: "Illusion",
    castingTime: "1 action",
    range: "9m",
    components: ["S", "M"],
    materials: "un peu de polaire",
    duration: "1 minute",
    concentration: false,
    ritual: false,
    description: "Vous créez un son ou une image d'un objet à portée, qui dure toute la durée du sort. L'illusion prend fin si vous relancez ce sort. Si vous créez un son, son intensité peut varier d'un murmure à un cri. Si vous créez l'image d'un objet, sa taille ne doit pas dépasser un cube de 1,50 mètre. L'image ne peut pas créer de son, de lumière, d'odeur ni aucun autre effet sensoriel.",
    classes: ["Barde", "Ensorceleur", "Occultiste", "Magicien"]
  },
  {
    id: "message",
    name: "Message",
    level: 0,
    school: "Transmutation",
    castingTime: "1 action",
    range: "36m",
    components: ["S", "M"],
    materials: "un fil de cuivre",
    duration: "1 round",
    concentration: false,
    ritual: false,
    description: "Vous pointez une créature à portée et murmurez un message. La cible (et elle seule) entend le message et peut répondre par un murmure que vous seul pouvez entendre. Vous pouvez lancer ce sort à travers des objets solides si vous connaissez la cible et savez qu'elle se trouve au-delà de la barrière.",
    classes: ["Barde", "Druide", "Ensorceleur", "Magicien"]
  },
  {
    id: "true-strike",
    name: "Coup au but",
    level: 0,
    school: "Divination",
    castingTime: "1 action",
    range: "Soi",
    components: ["S", "M"],
    materials: "une arme avec laquelle vous avez une compétence",
    duration: "Instantanée",
    concentration: false,
    ritual: false,
    description: "Guidé par un éclair de lucidité magique, vous effectuez une attaque avec l'arme utilisée pour lancer le sort. L'attaque utilise votre capacité de lanceur de sorts pour les jets d'attaque et de dégâts.",
    effect: { value: "Avantage", label: "Prochaine Attaque", type: "Buff" },
    higherLevels: "Aux niveaux 5 (1D6), 11 (2D6) et 17 (3D6), l'attaque inflige des dégâts radiants supplémentaires.",
    classes: ["Barde", "Ensorceleur", "Occultiste", "Magicien"]
  },

  // --- NIVEAU 1 ---
  {
    id: "thunderwave",
    name: "Vague tonnante",
    level: 1,
    school: "Évocation",
    castingTime: "1 action",
    range: "Soi (Cube 4,5m)",
    components: ["V", "S"],
    duration: "Instantanée",
    concentration: false,
    ritual: false,
    description: "Vous déchaînez une vague d'énergie tonitruante. Chaque créature dans un cube de 4,5 mètres partant de vous effectue un jet de sauvegarde de Constitution. En cas d'échec, une créature subit 2D8 dégâts de Tonnerre et est repoussée à 3 mètres de vous. En cas de réussite, elle subit la moitié des dégâts.",
    damage: { dice: "2D8", type: "Tonnerre" },
    higherLevels: "Les dégâts augmentent de 1D8 pour chaque niveau d'emplacement supérieur à 1.",
    classes: ["Barde", "Druide", "Ensorceleur", "Magicien"]
  },
  {
    id: "chromatic-orb",
    name: "Orbe chromatique",
    level: 1,
    school: "Évocation",
    castingTime: "1 action",
    range: "27m",
    components: ["V", "S", "M"],
    materials: "un diamant d'une valeur de 50+ GP",
    duration: "Instantanée",
    concentration: false,
    ritual: false,
    description: "Vous lancez un orbe d'énergie sur une cible à portée. Choisissez le type d'orbe à créer : Acide, Froid, Feu, Foudre, Poison ou Tonnerre, puis lancez une attaque à distance. En cas de succès, la cible subit 3D8 dégâts. Si vous obtenez le même résultat sur deux D8 ou plus, l'orbe bondit vers une autre cible dans un rayon de 9 mètres.",
    damage: { dice: "3D8", type: "Variable" },
    attackRoll: { count: 1 },
    canBounce: true,
    higherLevels: "Les dégâts augmentent de 1D8 pour chaque niveau d'emplacement supérieur à 1.",
    classes: ["Ensorceleur", "Magicien"]
  },
  {
    id: "comprehend-languages",
    name: "Compréhension des langues",
    level: 1,
    school: "Divination",
    castingTime: "1 action",
    range: "Soi",
    components: ["V", "S", "M"],
    materials: "une pincée de suie et de sel",
    duration: "1 heure",
    concentration: false,
    ritual: true,
    description: "Pendant toute la durée du sort, vous comprenez le sens littéral de toute langue signée que vous entendez ou voyez. Vous comprenez également toute langue écrite que vous voyez, mais vous devez toucher la surface. Ce sort ne décode ni les symboles ni les messages secrets.",
    classes: ["Barde", "Ensorceleur", "Occultiste", "Magicien"]
  },
  {
    id: "detect-magic",
    name: "Détection de la magie",
    level: 1,
    school: "Divination",
    castingTime: "1 action",
    range: "Soi",
    components: ["V", "S"],
    duration: "Concentration, jusqu'à 10 min",
    concentration: true,
    ritual: true,
    description: "Pendant la durée du sort, vous ressentez la présence d'effets magiques dans un rayon de 9 mètres autour de vous. Si vous ressentez des effets, vous pouvez utiliser l'action Magie pour voir une aura faible autour de toute créature ou objet visible dans la zone qui porte la magie, et vous apprenez son école de magie.",
    classes: ["Barde", "Clerc", "Druide", "Paladin", "Ranger", "Ensorceleur", "Occultiste", "Magicien"]
  },
  {
    id: "feather-fall",
    name: "Feuille morte",
    level: 1,
    school: "Transmutation",
    castingTime: "1 réaction",
    range: "18m",
    components: ["V", "M"],
    materials: "une petite plume ou un morceau de duvet",
    duration: "1 minute",
    concentration: false,
    ritual: false,
    description: "Choisissez jusqu'à cinq créatures en chute libre à portée. La vitesse de chute d'une créature est réduite à 18 mètres par round jusqu'à la fin du sort. Si une créature atterrit avant la fin du sort, elle ne subit aucun dégât de chute.",
    effect: { value: "Chute", label: "Ralentie", type: "Buff" },
    classes: ["Barde", "Ensorceleur", "Magicien"]
  },
  {
    id: "identify",
    name: "Identification",
    level: 1,
    school: "Divination",
    castingTime: "1 minute",
    range: "Toucher",
    components: ["V", "S", "M"],
    materials: "une perle valant 100+ GP",
    duration: "Instantanée",
    concentration: false,
    ritual: true,
    description: "Vous touchez un objet pendant l'incantation. S'il s'agit d'un objet magique, vous apprenez ses propriétés, son utilisation, s'il nécessite une harmonisation et ses charges. Si vous touchez une créature, vous apprenez quels sorts l'affectent actuellement.",
    classes: ["Barde", "Magicien"]
  },
  {
    id: "grease",
    name: "Graisse",
    level: 1,
    school: "Conjuration",
    castingTime: "1 action",
    range: "18m",
    components: ["V", "S", "M"],
    materials: "un peu de couenne de porc ou de beurre",
    duration: "1 minute",
    concentration: false,
    ritual: false,
    description: "La graisse ininflammable recouvre le sol dans un carré de 3m centré sur un point à portée et le transforme en terrain difficile. Chaque créature se trouvant dans la zone doit réussir un jet de sauvegarde de Dextérité ou être à terre.",
    effect: { value: "Terrain", label: "Difficile", type: "Debuff" },
    classes: ["Ensorceleur", "Magicien"]
  },
  {
    id: "shield",
    name: "Bouclier",
    level: 1,
    school: "Abjuration",
    castingTime: "1 réaction",
    range: "Personnelle",
    components: ["V", "S"],
    duration: "1 round",
    concentration: false,
    ritual: false,
    description: "Une barrière invisible de force magique apparaît et vous protège. Jusqu'au début de votre prochain tour, vous bénéficiez d'un bonus de +5 à la CA, y compris contre l'attaque déclencheuse, et vous ne subissez aucun dégât de projectile magique.",
    effect: { value: "+5", label: "Classe d'Armure", type: "Buff" },
    classes: ["Magicien", "Ensorceleur"]
  },
  {
    id: "mage-armor",
    name: "Armure de Mage",
    level: 1,
    school: "Abjuration",
    castingTime: "1 action",
    range: "Toucher",
    components: ["V", "S", "M"],
    materials: "Un morceau de cuir durci",
    duration: "8 heures",
    concentration: false,
    ritual: false,
    description: "Vous touchez une créature volontaire qui ne porte pas d'armure, et une force magique protectrice l'entoure jusqu'à la fin du sort. La classe d'armure de base de la cible devient 13 + son modificateur de Dextérité. Le sort se termine si la cible enfile une armure ou si vous utilisez une action pour le révoquer.",
    effect: { value: "13 + Dex", label: "CA Base", type: "Buff" },
    classes: ["Magicien", "Ensorceleur"]
  },
  {
    id: "magic-missile",
    name: "Projectile Magique",
    level: 1,
    school: "Évocation",
    castingTime: "1 action",
    range: "36m",
    components: ["V", "S"],
    duration: "Instantanée",
    concentration: false,
    ritual: false,
    description: "Vous créez trois fléchettes magiques lumineuses. Chaque fléchette touche une créature de votre choix que vous pouvez voir dans la portée du sort. Une fléchette inflige 1D4 + 1 dégâts de force à sa cible. Les fléchettes touchent simultanément.",
    damage: { dice: "3x(1D4+1)", type: "Force" },
    higherLevels: "Une fléchette supplémentaire est créée pour chaque niveau d'emplacement supérieur au niveau 1.",
    classes: ["Magicien", "Ensorceleur"]
  },

  // --- NIVEAU 2 ---
  {
    id: "mirror-image",
    name: "Image miroir",
    level: 2,
    school: "Illusion",
    castingTime: "1 action",
    range: "Soi",
    components: ["V", "S"],
    duration: "1 minute",
    concentration: false,
    ritual: false,
    description: "Trois doubles illusoires de vous-même apparaissent dans votre espace. Tant qu'ils sont là, les ennemis doivent réussir un jet pour vous toucher au lieu d'un double. Chaque fois qu'une créature vous attaque, lancez un D20 pour voir si elle vise un double.",
    effect: { value: "3", label: "Doubles", type: "Défense" },
    classes: ["Barde", "Ensorceleur", "Occultiste", "Magicien"]
  },
  {
    id: "scorching-ray",
    name: "Rayon ardent",
    level: 2,
    school: "Évocation",
    castingTime: "1 action",
    range: "36m",
    components: ["V", "S"],
    duration: "Instantanée",
    concentration: false,
    ritual: false,
    description: "Vous lancez trois rayons de feu. Vous pouvez les projeter sur une cible à portée ou sur plusieurs. Effectuez une attaque à distance pour chaque rayon. En cas de succès, la cible subit 2D6 dégâts de Feu.",
    damage: { dice: "2D6", type: "Feu", perAttack: true, displayDice: "3×2D6" },
    attackRoll: { count: 3 },
    higherLevels: "Vous créez un rayon supplémentaire pour chaque niveau d'emplacement de sort supérieur à 2.",
    classes: ["Ensorceleur", "Magicien"]
  },

  // --- DONS & APTITUDES (Traités comme des sorts spéciaux) ---
  {
    id: "chronal-shift",
    name: "Changement de Chronologie",
    level: 0, // 0 pour ne pas consommer de slot classique à l'incantation (gestion manuelle)
    school: "Chronomancie", // Custom type
    castingTime: "1 réaction",
    range: "9m",
    components: [],
    duration: "Instantanée",
    concentration: false,
    ritual: false,
    description: "Vous pouvez exercer un contrôle magique limité sur le flux du temps. En réaction, après qu'une créature à 9m a effectué un jet d'attaque, de caractéristique ou de sauvegarde, vous pouvez la forcer à relancer le jet. Elle doit utiliser le second résultat. 2 utilisations / Repos Long.",
    effect: { value: "2", label: "Utilisations/Jour", type: "Pouvoir" },
    classes: ["Magicien Chronomancien"]
  },
  {
    id: "lucky",
    name: "Chanceux",
    level: 0,
    school: "Don",
    castingTime: "Aucun",
    range: "Soi",
    components: [],
    duration: "Spécial",
    concentration: false,
    ritual: false,
    description: "Vous avez 2 points de chance. Quand vous faites un jet d'attaque, de caractéristique ou de sauvegarde, vous pouvez dépenser un point pour lancer un D20 supplémentaire et choisir le résultat.",
    effect: { value: "2", label: "Points de Chance", type: "Don" },
    classes: ["Don"]
  },
  {
    id: "spell-sniper",
    name: "Incantateur d'Élite",
    level: 0,
    school: "Don",
    castingTime: "Passif",
    range: "Soi",
    components: [],
    duration: "Permanent",
    concentration: false,
    ritual: false,
    description: "Vous bénéficiez des avantages suivants.\n\nAugmentation de caractéristiques. Augmentez votre Intelligence, Sagesse ou Charisme de 1, jusqu'à un maximum de 20.\n\nIgnorer la couverture. Vos jets d'attaque de sorts ignorent la demi-couverture et les trois-quarts de couverture.\n\nLancer des sorts en mêlée. Être à moins de 1,50 mètre d'un ennemi n'inflige pas de désavantage à vos jets d'attaque avec les sorts.\n\nPortée augmentée. Lorsque vous lancez un sort d'une portée d'au moins 3 mètres et nécessitant un jet d'attaque, vous pouvez augmenter sa portée de 18 mètres.",
    effect: { value: "+18m", label: "Portée Sorts", type: "Don" },
    classes: ["Don"]
  }
];
